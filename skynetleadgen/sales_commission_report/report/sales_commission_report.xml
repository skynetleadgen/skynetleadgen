<odoo>
  <!-- Paperformat -->
  <record id="paperformat_sales_commission" model="report.paperformat">
    <field name="name">Commission A4</field>
    <field name="format">A4</field>
    <field name="orientation">Portrait</field>
    <field name="margin_top">20</field>
    <field name="margin_bottom">18</field>
    <field name="margin_left">10</field>
    <field name="margin_right">10</field>
  </record>

  <!-- Report Action -->
  <record id="action_report_sales_commission_per_salesperson" model="ir.actions.report">
    <field name="name">Sales Commission Report</field>
    <field name="model">manual.sales.commission</field>
    <field name="report_type">qweb-pdf</field>
    <field name="report_name">sales_commission_report.report_sales_commission_per_salesperson</field>
    <field name="report_file">sales_commission_report.report_sales_commission_per_salesperson</field>
    <field name="paperformat_id" ref="sales_commission_report.paperformat_sales_commission"/>
    <field name="print_report_name">'Commission_Report_%s' % (object.name if object else 'Report')</field>
  </record>

  <!-- QWeb Template -->
  <template id="report_sales_commission_per_salesperson">
    <t t-call="web.html_container">
      <t t-foreach="docs" t-as="doc">
        <div class="page">
          <h2 style="margin-bottom: 6px;">Sales Commission Report</h2>
          <p style="margin: 0 0 12px 0;">
            <strong t-esc="company.name"/> &mdash; <span t-esc="doc['month_label']"/>
          </p>

          <table class="table table-sm table-bordered o_main_table">
            <tbody>
              <tr>
                <th>Salesperson</th>
                <td t-esc="doc['salesperson_name']"/>
              </tr>
              <tr>
                <th>Month</th>
                <td t-esc="doc['month_label']"/>
              </tr>
              <tr>
                <th>No. of Leads</th>
                <td t-esc="doc['lead_count']"/>
              </tr>
              <tr>
                <th>Commission Amount</th>
                <td>
                  <span t-esc="format_amount(doc['commission_amount'], currency)"/>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </t>
    </t>
  </template>
</odoo>
